<div class="container-fluid bg">
  <div class="text-center text-white pt-2">
    <a routerLink="/adminHome" style="color: white; text-decoration:none;">
      <h2><b><i>BlackPoolBus</i></b></h2>
    </a>
  </div>
  <div class="row">
    <div class="col-sm-12 text-light rounded">
      <!-- <div class="p-3 md-2">
        <h3><b>Welcome, <span class="text-danger"><i>{{adminDetails.adminName}}</i></span></b></h3>
        <div class="px-1 md-5" *ngIf="adminDetails">
          <small><b>Admin Id: {{adminDetails.adminId}}</b></small>
        </div>
        <button class="btn btn-danger float-left" routerLink="/adminHome">Home</button>

      </div> -->
    </div>
  </div>
  <div class="addBus jumbotron bg1 rounded ">
    <form class="p-2 m-1" (ngSubmit)="onSubmit()" [formGroup]="flightForm">
      <h4 class="text-center"><b>Add New Bus Details </b></h4>
      <!-- <div class="row">
        <div class="form-group col-sm-6">
          <label>Departure Bus-stop</label>
          <select formControlName="flightsource" class="form-control">
            <option value="" disabled>Select an Flight source Location</option>
            <option *ngFor="let departure of departureDestinations" [value]="formatLocation(departure)">{{ formatLocation(departure) }}</option>
          </select>
          <small class="text-danger" *ngIf="flightForm.get('flightsource')?.invalid && flightForm.get('flightsource')?.touched">Please select a flight source location</small>
        </div>


        <div class="form-group col-sm-6">
          <label>Arrival Bus-stop</label>
          <select formControlName="flightdestination" class="form-control">
            <option value="" disabled>Select an flight destination location</option>
            <option *ngFor="let destination of destinations" [value]="formatLocation(destination)">{{ formatLocation(destination)}}</option>
          </select>
          <small class="text-danger" *ngIf="flightForm.get('flightdestination')?.invalid && flightForm.get('flightdestination')?.touched">Please select a flight destination location</small>
        </div>

      </div> -->

      <div class="form-group col-sm-6">
        <label for="dropdownChoice">Select a Choice:</label>
        <select id="dropdownChoice" formControlName="dropdownChoice" class="form-control">
          <option value="" disabled>Select a Choice</option>
          <option *ngFor="let destination of locations" [value]="destination.locId">{{ formatLocation(destination) }}</option>

        </select>
        <small class="text-danger" *ngIf="flightForm.get('dropdownChoice')?.invalid && flightForm.get('dropdownChoice')?.touched">Please select a choice</small>
      </div>

      
      <div class="row">
        <div class="form-group col-sm-6">
          <label>Departure Date</label>
          <input type="date" placeholder="Departure Date" formControlName="departureDate"
            [class.is-invalid]="flightForm.get('departureDate')?.invalid && flightForm.get('departureDate')?.touched"
            class="form-control">
          <small class="text-danger"
            *ngIf="flightForm.get('departureDate')?.invalid && flightForm.get('departureDate')?.touched">invalid or no date
            provided</small>
        </div>

        <div class="form-group col-sm-6">
          <label>Arrival Date</label>
          <input type="date" placeholder="Arrival Date" formControlName="arrivalDate"
            [class.is-invalid]="flightForm.get('arrivalDate')?.invalid && flightForm.get('arrivalDate')?.touched "
            class="form-control">
          <small class="text-danger"
            *ngIf="flightForm.get('arrivalDate')?.errors?.['required'] && flightForm.get('arrivalDate')?.invalid && flightForm.get('arrivalDate')?.touched">mandatory
            Field</small>
          <small class="text-danger" *ngIf="flightForm.errors?.['arrivalDateError']">must be greater than or equal departure
            date</small>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-sm-4">
          <label for="name">Departure Time</label>
          <input type="time" placeholder="departure Time" formControlName="departureTime"
            [class.is-invalid]="flightForm.get('departureTime')?.invalid && flightForm.get('departureTime')?.touched"
            class="form-control">
          <small class="text-danger"
            *ngIf="flightForm.get('departureTime')?.invalid && flightForm.get('departureTime')?.touched">Please fill the
            departure
            time</small>
        </div>

        <div class="form-group col-sm-4">
          <label>Arrival Time</label>
          <input type="time" placeholder="Arrival Time" formControlName="arrivalTime"
            [class.is-invalid]="flightForm.get('arrivalTime')?.invalid && flightForm.get('arrivalTime')?.touched"
            class="form-control">
          <small class="text-danger"
            *ngIf="flightForm.get('arrivalTime')?.invalid && flightForm.get('arrivalTime')?.touched">Please fill the arrival
            time</small>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-sm-6">
          <label for="name">Price of Ticket</label>
          <input type="number" placeholder="Price of Ticket" formControlName="price"
            [class.is-invalid]="flightForm.get('price')?.invalid && flightForm.get('price')?.touched" class="form-control">
          <small class="text-danger"
            *ngIf="flightForm.get('departureTime')?.invalid && flightForm.get('departureTime')?.touched">invalid price
            provided</small>
        </div>
      </div>
      <div class="row justify-content-center" align="center">
        <div class="form-group col-sm-5">
          <input type="submit" value="Add bus" [disabled]="!flightForm.valid" class="btn btn-danger form-control">
        </div>
      </div>
    </form>
  </div>
</div>
<footer class="bg-dark fixed-bottom text-center text-white">
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2023 Copyright:
      <a class="text-white" style="text-decoration: none;" href="#">BlackPoolBus</a>
  </div>

</footer>

